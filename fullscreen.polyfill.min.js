!function(e){if(!e.documentElement.requestFullscreen){var l,n=$(e)
e.documentElement.msRequestFullscreen?(Element.prototype.requestFullscreen=Element.prototype.msRequestFullscreen,Document.prototype.exitFullscreen=Document.prototype.msExitFullscreen,e.fullscreenEnabled=e.msFullscreenEnabled,l="msFullscreenElement"):e.documentElement.webkitRequestFullscreen?(Element.prototype.requestFullscreen=Element.prototype.webkitRequestFullscreen,Document.prototype.exitFullscreen=Document.prototype.webkitExitFullscreen,e.fullscreenEnabled=e.webkitFullscreenEnabled,l="webkitFullscreenElement"):e.documentElement.mozRequestFullScreen?(Element.prototype.requestFullscreen=Element.prototype.mozRequestFullScreen,Document.prototype.exitFullscreen=Document.prototype.mozCancelFullScreen,e.fullscreenEnabled=e.mozFullScreenEnabled,l="mozFullScreenElement"):(Element.prototype.requestFullscreen=function(){$(this).css({position:"fixed",top:0,left:0,width:"100%",height:"100%","z-index":999}),e.fullscreenElement=this,n.trigger("fullscreenchange"),n.on("keypress.fs",function(l){27===l.keyCode&&e.exitFullscreen()})},Document.prototype.exitFullscreen=function(){n.off("keypress.fs"),e.fullscreenElement&&($(e.fullscreenElement).css({position:"",top:"",left:"",width:"",height:"","z-index":""}),this.fullscreenElement=null,n.trigger("fullscreenchange"))}),n.on({"MSFullscreenChange webkitfullscreenchange mozfullscreenchange":function(){e.fullscreenElement=e[l],n.trigger("fullscreenchange")},"MSFullScreenError webkitfullscreenerror mozfullscreenerror":function(){e.fullscreenElement=e[l],n.trigger("fullscreenerror")}})}}(document)
