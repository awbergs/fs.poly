!function(e){if(!e.documentElement.requestFullscreen){var l,t=$(e);e.documentElement.msRequestFullscreen?(Element.prototype.requestFullscreen=Element.prototype.msRequestFullscreen,e.constructor.prototype.exitFullscreen=e.constructor.prototype.msExitFullscreen,e.fullscreenEnabled=e.msFullscreenEnabled,l="msFullscreenElement"):e.documentElement.webkitRequestFullscreen?(Element.prototype.requestFullscreen=Element.prototype.webkitRequestFullscreen,e.constructor.prototype.exitFullscreen=e.constructor.prototype.webkitExitFullscreen,e.fullscreenEnabled=e.webkitFullscreenEnabled,l="webkitFullscreenElement"):e.documentElement.mozRequestFullScreen?(Element.prototype.requestFullscreen=Element.prototype.mozRequestFullScreen,e.constructor.prototype.exitFullscreen=e.constructor.prototype.mozCancelFullScreen,e.fullscreenEnabled=e.mozFullScreenEnabled,l="mozFullScreenElement"):(Element.prototype.requestFullscreen=function(){$(this).css({position:"fixed",top:0,left:0,width:"100%",height:"100%","z-index":999}),e.fullscreenElement=this,t.trigger("fullscreenchange"),t.on("keypress.fs",function(l){27===l.keyCode&&e.exitFullscreen()})},e.constructor.prototype.exitFullscreen=function(){t.off("keypress.fs"),e.fullscreenElement&&($(e.fullscreenElement).css({position:"",top:"",left:"",width:"",height:"","z-index":""}),this.fullscreenElement=null,t.trigger("fullscreenchange"))},e.isCustomFullScreen=1),t.on({"MSFullscreenChange webkitfullscreenchange mozfullscreenchange":function(){e.fullscreenElement=e[l],t.trigger("fullscreenchange")},"MSFullScreenError webkitfullscreenerror mozfullscreenerror":function(){e.fullscreenElement=e[l],t.trigger("fullscreenerror")}})}}(document);