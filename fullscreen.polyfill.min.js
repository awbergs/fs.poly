(function(n){if(!n.documentElement.requestFullscreen){var t=$(n),i;n.documentElement.msRequestFullscreen?(Element.prototype.requestFullscreen=Element.prototype.msRequestFullscreen,HTMLDocument.prototype.exitFullscreen=HTMLDocument.prototype.msExitFullscreen,n.fullscreenEnabled=n.msFullscreenEnabled,i="msFullscreenElement"):n.documentElement.webkitRequestFullscreen?(Element.prototype.requestFullscreen=Element.prototype.webkitRequestFullscreen,HTMLDocument.prototype.exitFullscreen=HTMLDocument.prototype.webkitExitFullscreen,n.fullscreenEnabled=n.webkitFullscreenEnabled,i="webkitFullscreenElement"):n.documentElement.mozRequestFullScreen?(Element.prototype.requestFullscreen=Element.prototype.mozRequestFullScreen,HTMLDocument.prototype.exitFullscreen=HTMLDocument.prototype.mozCancelFullScreen,n.fullscreenEnabled=n.mozFullScreenEnabled,i="mozFullScreenElement"):(Element.prototype.requestFullscreen=function(){$(this).css({position:"fixed",top:0,left:0,width:"100%",height:"100%","z-index":999});n.fullscreenElement=this;t.trigger("fullscreenchange");t.on("keypress.fs",function(t){t.keyCode===27&&n.exitFullscreen()})},HTMLDocument.prototype.exitFullscreen=function(){t.off("keypress.fs");n.fullscreenElement&&($(n.fullscreenElement).css({position:"",top:"",left:"",width:"",height:"","z-index":""}),this.fullscreenElement=null,t.trigger("fullscreenchange"))});t.on({"MSFullscreenChange webkitfullscreenchange mozfullscreenchange":function(){n.fullscreenElement=n[i];t.trigger("fullscreenchange")},"MSFullScreenError webkitfullscreenerror mozfullscreenerror":function(){n.fullscreenElement=n[i];t.trigger("fullscreenerror")}})}})(document);